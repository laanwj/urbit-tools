#!/usr/bin/python3
from urbit.util import strings, from_le
from urbit.cue import cue
import binascii
import sys

if sys.version_info[0:2] < (3,0):
    print("Requires python3", file=sys.stderr)
    exit(1)

packets_hex = [
    b'015facce8d9c058f07fe0c1de0910b234b7b1b38cc871bdc1ce0a99b2b939b17700102180e684598dee8eae6c4022e40809e2d10f7000f3ea137b634bb30397e011720e0db00cf2d21b9b4303790a9b73ab6b26e01fc69d272fb40582aef165dca0be778d9ff16700102360ef0db422a7393cb0309aa63a3eb1640002000d760ee0bdb19a0ab73142627574607b254c6c696a7178000abab8a60d505ddec397738522c00ce480b60bfdc07a40d43534fabf3a2849e009f722de001046801bc6c1d85b195b9815cbdb19995b54085d5b1e5750bb800018506f0b875c5164696d6962607a2046217e60642562607c21416e6d62d0001f0e4e9a5a993f8ec75a2a95b4d7c63b1003cf69b4b8373cb236ba14b7393cb736ba17b73732b136b414b239bcba36b69994ba3232b3b6b810b9b23ab9b6b114b2383cbc36b414b7373cbc317700102043ddcae0b880001e600ef2d28b434b63438902190a637b7b56e01172020a543715dc004081008e0612b284ceecd0d44a86c6cad4cae2dccad5bc00408c0096844c6dadac4022e4040a0017c6f1185b9a595b181a0bcd1a195c98dc9a5d195c9a585a5802cb195a5b9750bb80001b806f86e1d85c9c995d1812c95b1b1e5750b4000fc895733d0b78be0420d47fef5b2f6b3055c80808c037cb7944090cadce4f24082ead8e8ba050c808000efada13a39bab43990ac3039bb34b76e01ec5d150a2e552063df415c6cd2a82b2aa1052040be712d300b5a78071820ce58814836dc0266090069402f9257269657e62616700102cc385c7a0be04e3e994bd82588ae13f2b7209293106b001efbb185c1cd9589b5cca5b1a195d1b5d085b99995cdb5b8a589d195cdb5b490a5b9b9958db5b0a5d1b5959db59085b1c195e1b5b8a5cdcdd5b90b9800010001bc6d4dd195d995b981a0b4c991bdb5a5b9bda580109595750b4000655146405a867ed28423e24d108b13b3055480804987c4fb0210d00ffb5dc072f724ef1911ae53457d5eaf'
]
# see ++meal in zuze.hoon
d = []
for packet in packets_hex:
    packet = binascii.a2b_hex(packet)
    num = from_le(packet)
    cake = cue(num)
    print(cake)
    #print(urbit_util.format_hexnum(num))
    print(strings(cake))

#d = ((d[1] & ((1<<8192)-1)) << 8191) | d[0]
#d = (d[1]<<8192) | d[0]

#print(cue(d))
